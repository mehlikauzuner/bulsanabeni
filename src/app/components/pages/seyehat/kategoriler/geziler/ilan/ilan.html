<!-- components/pages/seyehat/kategoriler/geziler/ilan/ilan.html -->
<div class="create-wrapper">

  <!-- ===== BaÅŸlÄ±k ===== -->
  <div class="pill">Etkinlik BaÅŸlÄ±ÄŸÄ±</div>
  <div class="title-panel">
    <input
      class="title-input"
      type="text"
      [attr.maxlength]="maxTitleLen"
      [value]="title"
      (input)="title = ($any($event.target).value || '')"
      placeholder="Etkinlik baÅŸlÄ±ÄŸÄ±nÄ± girin" />
    <div class="counter">{{ (title || '').length }}/{{ maxTitleLen }}</div>
  </div>

  <!-- ===== AÃ§Ä±klama ===== -->
  <div class="pill" style="margin-top:14px;">AÃ§Ä±klama</div>
  <div class="title-panel">
    <textarea
      class="title-input"
      rows="5"
      [attr.maxlength]="maxDescLen"
      [value]="description"
      (input)="description = ($any($event.target).value || '')"
      placeholder="Etkinlik aÃ§Ä±klamasÄ±nÄ± yazÄ±n"></textarea>
    <div class="counter">{{ (description || '').length }}/{{ maxDescLen }}</div>
  </div>

<div class="date-time-row">
  <!-- Tarih -->
  <mat-form-field appearance="fill" class="field">
  <mat-label>Etkinlik Tarihi</mat-label>
  <input matInput [matDatepicker]="picker" [(ngModel)]="eventDate" placeholder="gg.aa.yyyy">
  <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
  <mat-datepicker #picker></mat-datepicker>
</mat-form-field>


  <!-- Saat (dropdown) -->
  <mat-form-field appearance="fill" class="field">
    <mat-label>Saat</mat-label>
    <mat-select [(ngModel)]="selectedTime" placeholder="Saat seÃ§">
      <mat-option *ngFor="let t of timeOptions" [value]="t">{{ t }}</mat-option>
    </mat-select>
  </mat-form-field>
</div>

<!-- (isteÄŸe baÄŸlÄ±) seÃ§ilen birleÅŸik ISO Ã¶nizleme -->
<!-- <div>{{ combinedIso }}</div> -->








  <!-- ===== Konum (Ä°l + Ä°lÃ§e) ===== -->
  <div class="pill" style="margin-top:14px;">Konum</div>
  <div class="title-panel">
    <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px;">
      <!-- Ä°l -->
      <div>
        <label class="field-label">Ä°l</label>
        <select
          class="title-input"
          [value]="selectedCityId ?? ''"
          (change)="onCityChange( +($any($event.target).value) )">
          <option value="">Ä°l seÃ§</option>
          <option *ngFor="let c of cities" [value]="c.id">{{ c.name }}</option>
        </select>
      </div>

      <!-- Ä°lÃ§e -->
      <div>
        <label class="field-label">Ä°lÃ§e</label>
        <select
          class="title-input"
          [disabled]="!selectedCityId"
          [value]="selectedDistrictId ?? ''"
          (change)="onDistrictChange( +($any($event.target).value) )">
          <option value="">{{ selectedCityId ? 'Ä°lÃ§e seÃ§' : 'Ã–nce il seÃ§in' }}</option>
          <option *ngFor="let d of districts" [value]="d.id">{{ d.name }}</option>
        </select>
      </div>
    </div>
  </div>

  <!-- ===== GÃ¶nder ===== -->
  <div class="actions" style="margin-top:16px;">
    <button
      type="button"
      class="primary-btn"
      (click)="submitIlan()"
      [disabled]="sending || !formValid()"
      aria-label="Bul Beni - ilanÄ± kaydet">
      Bul Beni
    </button>
  </div>

  <!-- ===== Durum ===== -->
  <div class="status-area" aria-live="polite" style="margin-top:12px;">
    <div *ngIf="sending">â³ GÃ¶nderiliyorâ€¦</div>
    <div *ngIf="sendOk" class="celebrate">ğŸ‰ Ä°lan oluÅŸturuldu!</div>
    <div *ngIf="sendErr" class="error">âŒ Ä°lan gÃ¶nderilemedi. LÃ¼tfen tekrar deneyin.</div>
  </div>

</div>
